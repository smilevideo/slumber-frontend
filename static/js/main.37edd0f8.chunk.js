(this["webpackJsonpslumber-frontend"]=this["webpackJsonpslumber-frontend"]||[]).push([[0],{228:function(e,t,a){e.exports=a(444)},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},444:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(53),c=a.n(l),s=(a(233),a(234),a(235),a(236),a(237),a(238),a(239),a(11)),o=a(12),i=a(14),u=a(13),m=a(15),p=a(26),d=a(54),h=a(10),E=a(16),b="https://stark-ocean-11748.herokuapp.com/",y=function(e){return{type:"LOGIN_USER",payload:e}},f=function(){return function(e){var t=localStorage.token;if(t)return fetch("".concat(b,"/user_data"),{method:"GET",headers:{"Content-Type":"application/json",Accepts:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(t){t.error?console.log("couldn't retrieve user data.."):e(y(t.user))}))}},g=a(24),O=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement(g.b,{to:"/",exact:!0,activeClassName:"navbar-chosen",className:"navbar-list-item navbar-logo"},r.a.createElement("strong",null,"Slumber")),this.props.currentUser.username?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar-flex-filler-loggedin"}),r.a.createElement(g.b,{to:"/logout",exact:!0,activeClassName:"navbar-chosen",className:"navbar-list-item navbar-logout"},"Log Out"),r.a.createElement(g.b,{to:"/sleeps",exact:!0,activeClassName:"navbar-chosen",className:"navbar-list-item"},"Sleep History"),r.a.createElement(g.b,{to:"/newsleep",exact:!0,activeClassName:"navbar-chosen",className:"navbar-list-item"},"Record Sleep"),r.a.createElement(g.b,{to:"/dreams",exact:!0,activeClassName:"navbar-chosen",className:"navbar-list-item"},"Dream List")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar-flex-filler-loggedout"}),r.a.createElement(g.b,{to:"/signup",exact:!0,activeClassName:"navbar-chosen",className:"navbar-list-item"},"Sign Up"),r.a.createElement(g.b,{to:"/login",exact:!0,activeClassName:"navbar-chosen",className:"navbar-list-item navbar-login"},"Log In")))}}]),t}(r.a.Component),j=Object(h.c)((function(e){return{currentUser:e.userReducer.currentUser}}),null)(O),v=a(452),D=a(451),S=a(445),N=a(126),C=a(446),_=a(453),R=a(43),w=function(e){var t=e.x,a=e.y,n=e.payload;return r.a.createElement(R.d,{x:t,y:a,width:75,textAnchor:"middle",verticalAnchor:"start",fill:"lightblue"},n.value)},M=function(e){var t=e.data,a=e.period;return r.a.createElement("div",{className:"chart"},r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("strong",null,"Hours Slept in the Past ".concat(a))),r.a.createElement(R.b,{width:750,height:450,data:t,margin:{top:0,right:5,bottom:5,left:5},barCategoryGap:"0%"},r.a.createElement(R.f,{dataKey:"string",interval:0,tick:r.a.createElement(w,null),height:100}),r.a.createElement(R.g,{tick:{fill:"lightblue"}}),r.a.createElement(R.e,null),r.a.createElement(R.a,{fill:"#4d4aa3",name:"Hours Slept",dataKey:"timeSleptInHours"},r.a.createElement(R.c,{dataKey:"timeSleptInHours",position:"top",fill:"lightblue"}))))},A=function(e){function t(){var e;Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).pastSevenDays=[];for(var a=new Date,n=0;n<7;n++){var r=Object(v.a)(a,7-n),l=Object(D.a)(r,"eeee, MMMM do");e.pastSevenDays.push({date:r,string:l})}return e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;if(this.props.currentUser.username)for(var t=this.props.currentUser.sleeps.filter((function(t){return Object(S.a)({start:Object(N.a)(e.pastSevenDays[0].date),end:Object(C.a)(e.pastSevenDays[6].date)},{start:t.startDate,end:t.endDate})})),a=function(a){e.pastSevenDays[a].timeSleptInMinutes=0,t.forEach((function(t){var n=Object(N.a)(e.pastSevenDays[a].date),r=Object(C.a)(e.pastSevenDays[a].date);Object(S.a)({start:n,end:r},{start:t.startDate,end:t.endDate})&&(t.startDate<n?t.endDate>r?e.pastSevenDays[a].timeSleptInMinutes+=1440:e.pastSevenDays[a].timeSleptInMinutes+=Object(_.a)(t.endDate,n):t.endDate>r?e.pastSevenDays[a].timeSleptInMinutes+=Object(_.a)(r,t.startDate):e.pastSevenDays[a].timeSleptInMinutes+=Object(_.a)(t.endDate,t.startDate))})),e.pastSevenDays[a].timeSleptInHours=Math.round(e.pastSevenDays[a].timeSleptInMinutes/60*10)/10},n=0;n<7;n++)a(n);return r.a.createElement("div",{className:"main"},r.a.createElement("h2",{className:"header"},"Home"),this.props.currentUser.username?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Welcome, ",this.props.currentUser.username,"."),r.a.createElement("br",null),r.a.createElement(M,{period:"Week",data:this.pastSevenDays})):r.a.createElement("p",null,"Welcome, please sign up or log in."))}}]),t}(r.a.Component),k=Object(h.c)((function(e){return{currentUser:e.userReducer.currentUser}}),null)(A),U=a(19),I=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState(Object(U.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.createUser(e.state)},e.state={username:"",password:""},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement("h2",{className:"header"},"Create an Account"),this.props.creatingUser?r.a.createElement("p",null,"Creating User.."):null,this.props.signUpError?r.a.createElement("p",null,"Username already taken, try again."):null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Password")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange})),r.a.createElement("td",null,r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange}))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"submit",value:"Create User"})))))))}}]),t}(r.a.Component),P=Object(h.c)((function(e){return{creatingUser:e.userReducer.creatingUser,signUpError:e.userReducer.signUpError}}),(function(e){return{createUser:function(t){return e(function(e){return function(t){return t({type:"CREATING_USER"}),fetch("".concat(b,"/users"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:"".concat(e.username),password:"".concat(e.password)}})}).then((function(e){return e.json()})).then((function(e){e.error?t({type:"CREATE_USER_ERROR"}):(localStorage.setItem("token",e.jwt),t(y(e.user)),t(Object(E.d)("/")))}))}}(t))}}}))(I),T=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState(Object(U.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.logInUser(e.state)},e.state={username:"",password:""},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement("h2",{className:"header"},"Login"),this.props.loggingIn?r.a.createElement("p",null,"Logging In.."):null,this.props.logInError?r.a.createElement("p",null,"Invalid username or password, try again."):null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Password")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange})),r.a.createElement("td",null,r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange}))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"submit",value:"Log In"})))))))}}]),t}(r.a.Component),x=Object(h.c)((function(e){return{loggingIn:e.userReducer.loggingIn,logInError:e.userReducer.logInError}}),(function(e){return{logInUser:function(t){return e(function(e){return function(t){return t({type:"LOGGING_IN"}),fetch("".concat(b,"/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:"".concat(e.username),password:"".concat(e.password)}})}).then((function(e){return e.json()})).then((function(e){e.error?t({type:"LOGIN_ERROR"}):(localStorage.setItem("token",e.jwt),t(y(e.user)),t(Object(E.d)("/")))}))}}(t))}}}))(T),L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){localStorage.removeItem("token"),a.props.logOutUser()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement("h2",{className:"header"},"Log Out"),r.a.createElement("p",null,"Are you sure you wish to log out?"),r.a.createElement("button",{onClick:this.handleClick},"Log Out"))}}]),t}(r.a.Component),G=Object(h.c)(null,(function(e){return{logOutUser:function(){return e((function(e){e({type:"LOGOUT_USER"}),e(Object(E.d)("/"))}))}}}))(L),H=a(41),F=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState(Object(U.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.createSleep(e.state)},e.today=Object(D.a)(new Date,"yyyy-MM-dd"),e.yesterday=Object(D.a)(Object(v.a)(new Date,1),"yyyy-MM-dd"),e.state={start_day:e.yesterday,start_time:"",end_day:e.today,end_time:"",note:"",rating:""},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main"},r.a.createElement("h2",{className:"header"},"New Sleep Entry"),this.props.creatingSleep?r.a.createElement("p",null,"Adding Sleep.."):null,this.props.createSleepError?r.a.createElement("p",null,"Error, try again."):null,r.a.createElement("form",{className:"sleep-form",onSubmit:this.handleSubmit},r.a.createElement("table",{className:"dates-input-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Start Day"),r.a.createElement("th",null,"Start Time (24hr)"),r.a.createElement("th",null,"End Day"),r.a.createElement("th",null,"End Time (24hr)")),r.a.createElement("tr",null,r.a.createElement("td",{className:"dayForm"},r.a.createElement("label",{className:"form-radio"},r.a.createElement("input",{type:"radio",name:"start_day",value:this.today,checked:this.state.start_day===this.today,onChange:this.handleChange,className:"form-input-radio"}),"Today"),r.a.createElement("label",{className:"form-radio"},r.a.createElement("input",{type:"radio",name:"start_day",value:this.yesterday,checked:this.state.start_day===this.yesterday,onChange:this.handleChange,className:"form-input-radio"}),"Yesterday"),r.a.createElement("label",{className:"form-radio"},r.a.createElement("input",{type:"radio",name:"start_day",value:"",checked:this.state.start_day!==this.today&&this.state.start_day!==this.yesterday,onChange:this.handleChange,className:"form-input-radio"}),"Other"),r.a.createElement("br",null),r.a.createElement("input",{className:"form-date",required:!0,type:"date",name:"start_day",max:this.today,value:this.state.start_day,onChange:this.handleChange})),r.a.createElement("td",null,r.a.createElement("input",{required:!0,type:"time",name:"start_time",placeholder:"Start Time",value:this.state.start_time,onChange:this.handleChange})),r.a.createElement("td",{className:"dayForm"},r.a.createElement("label",{className:"form-radio"},r.a.createElement("input",{type:"radio",name:"end_day",value:this.today,checked:this.state.end_day===this.today,onChange:this.handleChange,className:"form-input-radio"}),"Today"),r.a.createElement("label",{className:"form-radio"},r.a.createElement("input",{type:"radio",name:"end_day",value:this.yesterday,checked:this.state.end_day===this.yesterday,onChange:this.handleChange,className:"form-input-radio"}),"Yesterday"),r.a.createElement("label",{className:"form-radio"},r.a.createElement("input",{type:"radio",name:"end_day",value:"",checked:this.state.end_day!==this.today&&this.state.end_day!==this.yesterday,onChange:this.handleChange,className:"form-input-radio"}),"Other"),r.a.createElement("input",{className:"form-date",required:!0,type:"date",name:"end_day",min:this.state.start_day,max:this.today,value:this.state.end_day,onChange:this.handleChange})),r.a.createElement("td",null,r.a.createElement("input",{required:!0,type:"time",name:"end_time",placeholder:"End Time",min:this.state.end_day===this.state.start_day?this.state.start_time:null,value:this.state.end_time,onChange:this.handleChange}))))),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("strong",null,"Note (optional):")),r.a.createElement("br",null),r.a.createElement("textarea",{name:"note",placeholder:"(Enter note here)",cols:"50",rows:"8",value:this.state.note,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("strong",null,"Rating (optional):")),r.a.createElement("br",null),r.a.createElement("table",{className:"rating-input-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,Object(H.a)(Array(5).keys()).map((function(e){return e+1})).map((function(e){return r.a.createElement("td",{key:e},e)})),r.a.createElement("td",null,"None")),r.a.createElement("tr",null,Object(H.a)(Array(5).keys()).map((function(e){return e+1})).map((function(t){return r.a.createElement("td",{key:t},r.a.createElement("input",{type:"radio",name:"rating",value:t,checked:e.state.rating==="".concat(t),onChange:e.handleChange,className:"form-input-radio"}))})),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",name:"rating",value:"",checked:!this.state.rating,onChange:this.handleChange,className:"form-input-radio"}))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Add Sleep"})))}}]),t}(r.a.Component),J=Object(h.c)((function(e){return{creatingSleep:e.sleepReducer.creatingSleep,createSleepError:e.sleepReducer.createSleepError}}),(function(e){return{createSleep:function(t){return e(function(e){var t=localStorage.token;return function(a){return a({type:"CREATING_SLEEP"}),fetch("".concat(b,"/sleeps"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({sleep:e})}).then((function(e){return e.json()})).then((function(e){e.error?a({type:"CREATE_SLEEP_ERROR"}):(a(f()),a({type:"CREATED_SLEEP"}),a(Object(E.d)("/sleeps/".concat(e.sleep.id))))}))}}(t))}}}))(F),q=a(197),B=a.n(q),X=a(447),z=a(448),K=a(449),W=function(e){var t=Math.floor(e/60),a=Math.floor(e%60);return"".concat(t," ").concat(1===t?"hour":"hours"," and ").concat(a," ").concat(1===a?"minute":"minutes")},Y=function(e){return r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(g.a,{to:"sleeps/".concat(e.sleep.id)},"".concat(Object(D.a)(e.sleep.startDate,"eeee, MMMM do yyyy"),", ").concat(e.sleep.start_time," to \n                ").concat(Object(D.a)(e.sleep.endDate,"eeee, MMMM do yyyy"),", ").concat(e.sleep.end_time,":"))),r.a.createElement("div",null,r.a.createElement("strong",null,"Sleep duration: "),e.sleep.duration),r.a.createElement("br",null),r.a.createElement("div",{className:"sleep-note"},r.a.createElement("strong",null,"Note(s): "),r.a.createElement("br",null),e.sleep.note?e.sleep.note:"N/A"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("strong",null,"Rating: "),e.sleep.rating?e.sleep.rating:"N/A"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("strong",null,"Dream(s) recorded: "),e.sleep.dreams.length>0?"Yes":"No"),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("br",null))},V=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState({selectedStartDate:t[0],selectedEndDate:t[1]})},e.state={selectedStartDate:Object(v.a)(new Date,7),selectedEndDate:Object(v.a)(new Date,1)},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;if(this.props.sleeps){this.selectedSleeps=this.props.sleeps.filter((function(t){return Object(S.a)({start:t.startDate,end:t.endDate},{start:e.state.selectedStartDate,end:e.state.selectedEndDate})}));var t=this.selectedSleeps.reduce((function(t,a){return Object(X.a)(a.startDate,e.state.selectedStartDate)?Object(z.a)(a.endDate,e.state.selectedEndDate)?t+Object(_.a)(e.state.selectedEndDate,e.state.selectedStartDate)+1:t+Object(_.a)(a.endDate,e.state.selectedStartDate):Object(z.a)(a.endDate,e.state.selectedEndDate)?t+Object(_.a)(e.state.selectedEndDate,a.startDate)+1:t+Object(_.a)(a.endDate,a.startDate)}),0);this.timeSleptInSelection=W(t);var a=Object(K.a)(this.state.selectedEndDate,this.state.selectedStartDate)+1;this.averageTimeSleptPerDay=W(Math.floor(t/a))}return r.a.createElement("div",{className:"main"},r.a.createElement("h2",{className:"header"},"Sleep Overview"),r.a.createElement("p",{style:{textAlign:"center"}},"Select a date range:"),r.a.createElement(B.a,{onChange:this.onChange,value:[this.state.selectedStartDate,this.state.selectedEndDate],maxDate:new Date,minDate:new Date(1900,1,1),calendarType:"US",selectRange:!0}),r.a.createElement("h3",{style:{textAlign:"center"}},this.state.selectedStartDate.toString().split(" ").slice(1,4).join(" ")===this.state.selectedEndDate.toString().split(" ").slice(1,4).join(" ")?"".concat(Object(D.a)(this.state.selectedStartDate,"eeee, MMMM do yyyy"),":"):"".concat(Object(D.a)(this.state.selectedStartDate,"eeee, MMMM do yyyy"),"\n                    to \n                    ").concat(Object(D.a)(this.state.selectedEndDate,"eeee, MMMM do yyyy"),":")),this.selectedSleeps?r.a.createElement(r.a.Fragment,null,this.selectedSleeps.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{textAlign:"center"}},"Average time slept per day: ",this.averageTimeSleptPerDay),r.a.createElement("p",{style:{textAlign:"center"}},"Total time slept: ",this.timeSleptInSelection),r.a.createElement("br",null),r.a.createElement("hr",{className:"sleep-list-begin"}),r.a.createElement("h4",null,"List of sleep sessions during this period:"),r.a.createElement("ol",{className:"sleepList"},this.selectedSleeps.sort((function(e,t){return Object(X.a)(e.startDate,t.startDate)?-1:1})).map((function(e){return r.a.createElement(Y,{sleep:e,key:e.id})})))):r.a.createElement("p",null,"No sleep recorded for this period.")):null)}}]),t}(r.a.Component),Q=Object(h.c)((function(e){return{sleeps:e.userReducer.currentUser.sleeps}}),(function(e){return{}}))(V);function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var $=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState(Object(U.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.createDream(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.state,{sleep_id:e.props.sleepId}))},e.handleCancel=function(){e.props.cancelAddDream()},e.state={description:"",mood:"0"},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"dream-form"},r.a.createElement("h3",{className:"dream-form-header"},"New Dream Entry"),r.a.createElement("hr",{style:{margin:"0px -5px 10px -5px"}}),this.props.creatingDream?r.a.createElement("p",null,"Adding Dream.."):null,this.props.createDreamError?r.a.createElement("p",null,"Error, try again."):null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement("strong",null,"Description:")),r.a.createElement("br",null),r.a.createElement("textarea",{required:!0,name:"description",cols:"50",rows:"8",value:this.state.description,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("table",{className:"mood-input-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"7"},"Downer ","<---\x3e"," Upper")),r.a.createElement("tr",null,Object(H.a)(Array(7).keys()).map((function(e){return e-3})).map((function(e){return r.a.createElement("td",{key:e},e)}))),r.a.createElement("tr",null,Object(H.a)(Array(7).keys()).map((function(e){return e-3})).map((function(t){return r.a.createElement("td",{key:t},r.a.createElement("input",{type:"radio",name:"mood",value:t,checked:e.state.mood==="".concat(t),onChange:e.handleChange,className:"form-input-radio"}))}))))),r.a.createElement("br",null),r.a.createElement("div",{className:"dream-form-buttons"},r.a.createElement("input",{type:"submit",value:"Add Dream"}),r.a.createElement("button",{type:"button",onClick:this.handleCancel},"Cancel"))))}}]),t}(r.a.Component),ee=Object(h.c)((function(e){return{creatingDream:e.dreamReducer.creatingDream,createDreamError:e.dreamReducer.createDreamError}}),(function(e){return{createDream:function(t){return e(function(e){var t=localStorage.token;return function(a){return a({type:"CREATING_DREAM"}),fetch("".concat(b,"/dreams"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({dream:e})}).then((function(e){return e.json()})).then((function(e){e.error?a({type:"CREATE_DREAM_ERROR"}):(a(f()),a({type:"CREATED_DREAM"}))}))}}(t))},cancelAddDream:function(){return e({type:"CANCEL_ADD_DREAM"})}}}))($),te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.addDream()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=parseInt(this.props.match.params.sleepId,10);return this.props.sleeps&&(this.sleep=this.props.sleeps.find((function(t){return t.id===e}))),r.a.createElement("div",{className:"main"},"undefined"!==typeof this.sleep?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"header"},"Sleep from ","".concat(Object(D.a)(this.sleep.startDate,"eeee, MMMM do yyyy"),", ").concat(this.sleep.start_time," to \n                    ").concat(Object(D.a)(this.sleep.endDate,"eeee, MMMM do yyyy"),", ").concat(this.sleep.end_time,":")),r.a.createElement("div",{className:"sleep-view"},r.a.createElement("div",{className:"sleep-view-sleep-info"},r.a.createElement("p",null,r.a.createElement("strong",null,"Total duration: "),this.sleep.duration),r.a.createElement("p",null,"Rating: ".concat(this.sleep.rating?this.sleep.rating:"N/A")),r.a.createElement("p",null,r.a.createElement("span",null,"Note: "),this.sleep.note?this.sleep.note:"N/A")),r.a.createElement("div",{className:"sleep-view-dream-list"},r.a.createElement("h3",null,"Dreams: "),this.props.addingDream?r.a.createElement(ee,{sleepId:this.sleep.id}):r.a.createElement("button",{onClick:this.handleClick},"Record Dream"),r.a.createElement("ol",null,this.sleep.dreams.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("p",{className:"dream-description"},e.description),"number"===typeof e.mood?r.a.createElement("p",null,"Mood: ",e.mood):null)})))))):null)}}]),t}(r.a.Component),ae=Object(h.c)((function(e){return{sleeps:e.userReducer.currentUser.sleeps,addingDream:e.dreamReducer.addingDream}}),(function(e){return{addDream:function(){return e({type:"ADDING_DREAM"})}}}))(te),ne=function(e){return r.a.createElement("li",null,r.a.createElement("p",null,"Day of associated sleep session: ",r.a.createElement(g.a,{to:"sleeps/".concat(e.sleep.id)},Object(D.a)(e.sleep.startDate,"eeee, MMMM do yyyy"))),r.a.createElement("p",{className:"dream-description"},r.a.createElement("strong",null,"Description:"),r.a.createElement("br",null),e.dream.description),r.a.createElement("p",null,r.a.createElement("strong",null,"Mood: "),e.dream.mood),r.a.createElement("hr",null))},re=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement("h2",{className:"header"},"Dream Overview"),this.props.sleeps?r.a.createElement("ol",{className:"dream-list"},this.props.sleeps.map((function(e){return r.a.createElement("div",{key:e.id},e.dreams.map((function(t){return r.a.createElement(ne,{dream:t,sleep:e,key:t.id})})))}))):null)}}]),t}(r.a.Component),le=Object(h.c)((function(e){return{sleeps:e.userReducer.currentUser.sleeps}}),(function(e){return{}}))(re),ce=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getUser()}},{key:"render",value:function(){return r.a.createElement(d.a,{history:Ce},r.a.createElement(r.a.Fragment,null,r.a.createElement(j,null),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:k}),r.a.createElement(p.a,{exact:!0,path:"/sleeps",component:Q}),r.a.createElement(p.a,{exact:!0,path:"/sleeps/:sleepId",component:ae}),r.a.createElement(p.a,{exact:!0,path:"/dreams",component:le}),r.a.createElement(p.a,{exact:!0,path:"/newsleep",component:J}),r.a.createElement(p.a,{exact:!0,path:"/logout",component:G}),r.a.createElement(p.a,{exact:!0,path:"/signup",component:P}),r.a.createElement(p.a,{exact:!0,path:"/login",component:x}))))}}]),t}(r.a.Component),se=Object(h.c)(null,(function(e){return{getUser:function(){return e(f())}}}))(ce),oe=a(40),ie=a(198),ue=a(22),me=a(185),pe=a(450);function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ee={currentUser:{}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATING_USER":return he({},e,{creatingUser:!0,signUpError:!1});case"CREATE_USER_ERROR":return he({},e,{creatingUser:!1,signUpError:!0});case"LOGGING_IN":return he({},e,{loggingIn:!0,logInError:!1});case"LOGIN_ERROR":return he({},e,{loggingIn:!1,logInError:!0});case"LOGIN_USER":return he({},e,{currentUser:he({},t.payload,{sleeps:Object(H.a)(t.payload.sleeps.map((function(e){var t=Object(pe.a)("".concat(e.start_day," ").concat(e.start_time),"yyyy-MM-dd HH:mm",new Date),a=Object(pe.a)("".concat(e.end_day," ").concat(e.end_time),"yyyy-MM-dd HH:mm",new Date);return he({},e,{startDate:t,endDate:a,duration:"".concat(Math.floor(Object(_.a)(a,t)/60),"h \n                                    ").concat(Object(_.a)(a,t)%60,"m")})})))}),creatingUser:!1,loggingIn:!1,signUpError:!1,logInError:!1});case"LOGOUT_USER":return he({},e,{currentUser:{}});default:return e}};function ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(a),!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ye(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ge={creatingSleep:!1,createSleepError:!1},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATING_SLEEP":return fe({},e,{creatingSleep:!0,createSleepError:!1});case"CREATE_SLEEP_ERROR":return fe({},e,{creatingSleep:!1,createSleepError:!0});case"CREATED_SLEEP":return fe({},e,{creatingSleep:!1,createSleepError:!1});default:return e}};function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(Object(a),!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var De={addingDream:!1,creatingDream:!1,createDreamError:!1},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDING_DREAM":return ve({},e,{addingDream:!0});case"CANCEL_ADD_DREAM":return ve({},e,{addingDream:!1});case"CREATING_DREAM":return ve({},e,{creatingDream:!0,createDreamError:!1});case"CREATE_DREAM_ERROR":return ve({},e,{creatingDream:!1,createDreamError:!0});case"CREATED_DREAM":return ve({},e,{creatingDream:!1,createDreamError:!1,addingDream:!1});default:return e}},Ne=function(e){return Object(oe.c)({router:Object(d.b)(e),userReducer:be,sleepReducer:Oe,dreamReducer:Se})};a.d(t,"history",(function(){return Ce}));var Ce=Object(ue.a)(),_e=Object(oe.e)(Ne(Ce),Object(oe.d)(Object(oe.a)(ie.a,Object(me.a)(Ce)),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));c.a.render(r.a.createElement(h.a,{store:_e},r.a.createElement(se,null)),document.getElementById("root"))}},[[228,1,2]]]);
//# sourceMappingURL=main.37edd0f8.chunk.js.map